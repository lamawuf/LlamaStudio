# Sales Module — LlamaStudio

Модуль для генерации персонализированных коммерческих предложений.

## Структура

```
sales/
├── generator.py          # Генератор КП из CSV с лидами
├── templates/            # Шаблоны сообщений
│   ├── cold_first.txt    # Первое холодное (развёрнутое)
│   ├── cold_short.txt    # Первое холодное (короткое)
│   ├── follow_up.txt     # Повторное сообщение
│   └── with_site_analysis.txt  # Для тех у кого есть сайт
└── README.md
```

## Использование

### 1. Спарсить лидов
```bash
cd ../crm
python farmer.py Краснодар "ремонт квартир"
```

### 2. Сгенерировать КП
```bash
python generator.py ../crm/leads.csv cold_first
python generator.py ../crm/leads.csv cold_short 10  # первые 10 лидов
```

### 3. Результат
- Выводит сообщения в консоль
- Сохраняет в `leads_messages.txt`
- Для каждого лида — WhatsApp ссылка + текст

## Шаблоны

### cold_first — развёрнутое первое сообщение
Используй когда есть время на персонализацию. Содержит:
- Приветствие с именем компании
- Конкретное предложение (5000₽)
- Ссылка на портфолио

### cold_short — короткое
Для массовой рассылки. Минимум текста, максимум конверсии.

### follow_up — повторное
Через 2-3 дня после первого сообщения если нет ответа.

### with_site_analysis — с анализом сайта
Для компаний у которых ЕСТЬ сайт. Нужно вручную заполнить {analysis}.

## Плейсхолдеры в шаблонах

- `{name}` — название компании
- `{phone}` — телефон
- `{city}` — город
- `{category}` — ниша (ремонт квартир, автосервис, etc.)
- `{portfolio_link}` — ссылка на пример
- `{whatsapp_link}` — ссылка на WhatsApp
- `{analysis}` — анализ сайта (для with_site_analysis)

## Добавление нового шаблона

1. Создай файл `templates/my_template.txt`
2. Используй плейсхолдеры выше
3. Вызывай: `python generator.py leads.csv my_template`
