# План оптимизации шаблонов LlamaStudio

## Проблема

Сейчас каждый шаблон — ~1200 строк HTML с:
- Инлайн SVG иконками (повторяются десятки раз)
- Хардкоженным контентом (текст, цены, телефоны)
- Копипастой секций (отзывы, FAQ, услуги)

**Результат:** Создание сайта = 20+ правок в огромном файле = много токенов и времени.

---

## Решение: Шаблонизация

### Архитектура

```
templates/
├── base/
│   ├── icons.svg          # Все SVG иконки в одном sprite
│   ├── components/        # Переиспользуемые компоненты
│   │   ├── header.html
│   │   ├── footer.html
│   │   ├── hero.html
│   │   ├── services.html
│   │   ├── reviews.html
│   │   ├── faq.html
│   │   └── calculator.html
│   └── styles/
│       └── shared.css     # Общие стили
│
├── themes/                # 6 уникальных тем (только визуал)
│   ├── corporate/         # site1 стиль
│   │   ├── theme.css
│   │   └── layout.html
│   ├── minimal/           # site2 стиль
│   ├── vibrant/           # site3 стиль
│   ├── classic/           # site4 стиль
│   ├── modern/            # site5 стиль
│   └── premium/           # site6 стиль
│
└── generator.py           # Генератор сайтов
```

### Процесс создания сайта

```
1. Выбираем тему (corporate, minimal, etc.)
2. Заполняем config.json с данными клиента
3. Запускаем: python generator.py --theme corporate --config mechta/config.json
4. Получаем готовый index.html
```

### config.json — единственное что меняется

```json
{
  "company": "Мечта",
  "phone": "+7 (938) 519-74-91",
  "city": "Краснодар",
  "niche": "ceilings",  // определяет контент

  "theme": "corporate",
  "colors": { ... },

  "services": [ ... ],
  "reviews": [ ... ],
  "faq": [ ... ]
}
```

---

## Что даёт уникальность шаблонов

| Элемент | Как различаются |
|---------|-----------------|
| Цветовая схема | 6 разных палитр |
| Layout hero | Фото слева/справа/фон/split |
| Стиль карточек | Тени/бордеры/градиенты |
| Навигация | Прозрачная/белая/тёмная |
| Анимации | Fade/slide/zoom |
| Типографика | 6 комбинаций шрифтов |
| Секции | Разный порядок, разные формы |

---

## План внедрения

### Фаза 1: SVG Sprite (экономия ~30% токенов)
- [ ] Собрать все уникальные иконки в icons.svg
- [ ] Заменить инлайн SVG на `<use href="#icon-name">`

### Фаза 2: Шаблонизатор (экономия ~60% токенов)
- [ ] Создать generator.py на Jinja2
- [ ] Вынести секции в компоненты
- [ ] Добавить niches с дефолтным контентом

### Фаза 3: Темы
- [ ] Разделить layout и стили
- [ ] Создать 6 theme.css
- [ ] Задокументировать отличия

---

## Niches (готовые пресеты контента)

```python
NICHES = {
    "ceilings": {
        "services": ["Матовые", "Глянцевые", "Сатиновые", "Многоуровневые"],
        "stats": ["1000+ потолков", "1 день монтаж", "15 лет гарантия"],
        "faq": ["Сколько стоит?", "Сколько времени?", "Какая гарантия?"]
    },
    "repair": {
        "services": ["Косметический", "Капитальный", "Под ключ", "Дизайн"],
        ...
    },
    "auto": { ... },
    "beauty": { ... },
    "dental": { ... }
}
```

---

## Результат после оптимизации

**Было:** 20+ правок в 1200-строчном файле
**Станет:** 1 файл config.json + 1 команда генерации

**Токены:** -70%
**Время:** -80%
**Уникальность:** Сохраняется через разные themes

---

*Создано: 2026-01-20*
